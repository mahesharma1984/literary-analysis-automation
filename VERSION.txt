# Literary Analysis Automation - Current Version
# Last Updated: November 24, 2025
# System Version: 5.1
# âœ“ Verified empirically by checking actual outputs

## PRODUCTION PIPELINE (Verified Working):

Stage 1A: run_stage1a.py
  Input:  kernels/[book]_kernel_v3.3.json
  Output: outputs/[book]_stage1a_v5.0.json (verified: 5 weeks)

Stage 1B: run_stage1b.py
  Input:  outputs/[book]_stage1a_v5.0.json
  Output: outputs/[book]_stage1b_v5.0.json (verified: 5 weeks)
          outputs/[book]_Integrated_Progression.md

Stage 2:  run_stage2.py (template-based approach)
  Input:  outputs/[book]_stage1b_v5.0.json
  Output: outputs/worksheets/[book]_Week[N]_Worksheet.md
          outputs/worksheets/[book]_Week[N]_TeacherKey.md

## HOW THIS WAS VERIFIED:

This VERSION.txt was generated by checking:
1. Actual output files exist and have correct structure
2. Stage 1A outputs contain 5-week packages
3. Stage 1B outputs contain 5-week packages
4. Data structures match between pipeline stages

Run `python3 verify_pipeline.py` to re-verify at any time.

## CRITICAL FILES:
- device_taxonomy_mapping.json (5-week categorization)
- run_stage1a.py (macro-micro package creation)
- run_stage1b.py (teaching progression)
- run_stage2.py (worksheet generation - template-based approach, main version)
- create_kernel.py (kernel creation automation)

## ARCHIVED VERSIONS:
- archive/run_stage2_old.py (previous fixed version with kernel input)
- archive/run_stage2_old_v2.py (previous non-template version)
- archive/run_stage2_template.py (backup of template version, now main)

## FOLDER STRUCTURE:
- /kernels/         : Book kernels (v3.3 format)
- /outputs/         : Stage 1A/1B JSON outputs
- /outputs/worksheets/ : Final worksheets & teacher keys
- /templates/       : Worksheet templates (Template_Literary_Analysis_6Step.md, etc.)
- /tests/           : Test scripts
- /docs/            : Documentation
- /archive/         : Old/experimental files

## TESTING:
Verify pipeline:
  python3 verify_pipeline.py

Run full test:
  python3 tests/test_full_pipeline.py

## FOR DOCUMENTATION:
See docs/DEVELOPER_GUIDE.md
